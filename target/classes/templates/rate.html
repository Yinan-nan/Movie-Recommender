<!DOCTYPE html>
<html>
    <head>
    	<meta charset="utf-8">
        <title>Movie Recommender</title>
		<meta name="viewport"
			content="width=device-width, initial-scale=1">
		<script>
			// remove no-js and add 'js' to the HTML
			document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
		</script>
	    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    	<link rel="stylesheet" href="css/rate.css">
    	<link href="https://fonts.googleapis.com/css2?family=PT+Sans+Narrow:wght@400;700&display=swap" rel="stylesheet">
    	
    	<!-- <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    	 -->
    </head>
    <body>
    	<!--
			Single SVG Reference
		-->
		<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display: none;">
			<symbol id="star"><g transform="scale(0.03125 0.03125)"><path d="M896 384l-313.5-40.781-134.5-279.219-134.531 279.219-313.469 40.781 230.469 208.875-59.469 303.063 277-148.812 277.062 148.812-59.562-303.063 230.5-208.875z" /></g></symbol>
			<symbol viewBox="0 0 18 18" id="no_rating"><g transform="scale(0.017578125 0.017578125)"><path d="M512 56.889c-251.362 0-455.111 203.749-455.111 455.111s203.749 455.111 455.111 455.111 455.111-203.749 455.111-455.111-203.749-455.111-455.111-455.111zM170.667 512c0-73.639 23.666-141.694 63.472-197.527l475.388 475.388c-55.833 39.806-123.888 63.472-197.527 63.472-188.222 0-341.333-153.111-341.333-341.333zM789.861 709.527l-475.388-475.388c55.833-39.806 123.888-63.472 197.527-63.472 188.222 0 341.333 153.111 341.333 341.333 0 73.639-23.666 141.694-63.472 197.527z" /></g></symbol>
			<symbol id="popcorn">
				<g id="XMLID_484_" transform="scale(0.07 0.07)">
  
	<circle id="popcrncirlce" class="firstcirle" cx="260.426" cy="22.695" r="22.695"/>
  
  <circle id="popcrncirlce" class="firstcirle" cx="163.426" cy="-16.695" r="22.695"/>
  
  <circle id="popcrncirlce" class="firstcirle" cx="65.426" cy="22.695" r="22.695"/>
  
	<path id="XMLID_488_" style="" d="M278.375,128.664c-0.05,0-0.099,0.007-0.149,0.008
		c0.092-0.831,0.149-1.673,0.149-2.529c0-12.534-10.161-22.695-22.695-22.695c-0.05,0-0.099,0.007-0.149,0.008
		c0.092-0.831,0.149-1.673,0.149-2.529c0-12.534-10.161-22.695-22.695-22.695c-0.752,0-1.495,0.041-2.228,0.112
		c0.1-0.866,0.165-1.742,0.165-2.634c0-12.099-9.475-21.958-21.406-22.63C208.895,41.1,199.014,31.57,186.88,31.57
		c-12.136,0-22.018,9.533-22.635,21.515c-0.04-0.002-0.08-0.004-0.119-0.006C163.505,41.1,153.624,31.57,141.491,31.57
		c-12.136,0-22.018,9.533-22.635,21.515c-0.468-0.029-0.933-0.071-1.408-0.071c-12.534,0-22.695,10.161-22.695,22.695
		c0,0.887,0.064,1.757,0.162,2.618C83.272,79.295,74.12,89.034,74.12,100.926c0,0.856,0.057,1.698,0.149,2.529
		c-0.05,0-0.099-0.008-0.149-0.008c-12.534,0-22.695,10.161-22.695,22.695c0,0.856,0.057,1.698,0.149,2.529
		c-0.05,0-0.099-0.008-0.149-0.008c-12.534,0-22.695,10.161-22.695,22.695c0,12.534,10.161,22.695,22.695,22.695
		c12.534,0,22.695-10.161,22.695-22.695c0-0.856-0.057-1.698-0.149-2.529c0.05,0,0.099,0.008,0.149,0.008s0.099-0.007,0.149-0.008
		c-0.092,0.831-0.149,1.673-0.149,2.529c0,12.534,10.161,22.695,22.695,22.695s22.695-10.161,22.695-22.695
		c0-0.856-0.057-1.698-0.149-2.529c0.05,0,0.099,0.008,0.149,0.008c0.05,0,0.099-0.007,0.149-0.008
		c-0.092,0.831-0.149,1.673-0.149,2.529c0,12.534,10.161,22.695,22.695,22.695c12.534,0,22.695-10.161,22.695-22.695
		c0-0.856-0.057-1.698-0.149-2.529c0.05,0,0.099,0.008,0.149,0.008s0.099-0.007,0.149-0.008c-0.092,0.831-0.149,1.673-0.149,2.529
		c0,12.534,10.161,22.695,22.695,22.695c12.534,0,22.695-10.161,22.695-22.695c0-0.856-0.057-1.698-0.149-2.529
		c0.05,0,0.099,0.008,0.149,0.008s0.099-0.007,0.149-0.008c-0.092,0.831-0.149,1.673-0.149,2.529
		c0,12.534,10.161,22.695,22.695,22.695s22.695-10.161,22.695-22.695c0-0.856-0.057-1.698-0.149-2.529
		c0.05,0,0.099,0.008,0.149,0.008c0.05,0,0.099-0.007,0.149-0.008c-0.092,0.831-0.149,1.673-0.149,2.529
		c0,12.534,10.161,22.695,22.695,22.695c12.534,0,22.695-10.161,22.695-22.695C301.07,138.825,290.909,128.664,278.375,128.664z
		 M185.473,76.889c0.04,0.002,0.08,0.004,0.119,0.006c0.025,0.48,0.048,0.96,0.103,1.432c-0.108,0.009-0.22,0.006-0.328,0.017
		C185.423,77.864,185.447,77.377,185.473,76.889z M140.083,76.889c0.04,0.002,0.08,0.004,0.119,0.006
		c0.025,0.48,0.048,0.96,0.103,1.432c-0.108,0.009-0.22,0.006-0.328,0.017C140.033,77.864,140.057,77.377,140.083,76.889z
		 M96.666,128.672c0.092-0.831,0.149-1.673,0.149-2.529c0-0.856-0.057-1.698-0.149-2.529c0.05,0,0.099,0.008,0.149,0.008
		c0.05,0,0.099-0.007,0.149-0.008c-0.092,0.831-0.149,1.673-0.149,2.529c0,0.856,0.057,1.698,0.149,2.529
		c-0.05,0-0.099-0.008-0.149-0.008C96.765,128.664,96.717,128.671,96.666,128.672z M119.361,103.455
		c0.092-0.831,0.149-1.673,0.149-2.529c0-0.887-0.064-1.757-0.162-2.618c0.108-0.009,0.22-0.006,0.328-0.017
		c-0.1,0.866-0.165,1.742-0.165,2.634c0,0.856,0.057,1.698,0.149,2.529c-0.05,0-0.099-0.008-0.149-0.008
		C119.46,103.448,119.412,103.455,119.361,103.455z M142.056,128.672c0.092-0.831,0.149-1.673,0.149-2.529
		c0-0.856-0.057-1.698-0.149-2.529c0.05,0,0.099,0.008,0.149,0.008s0.099-0.007,0.149-0.008c-0.092,0.831-0.149,1.673-0.149,2.529
		c0,0.856,0.057,1.698,0.149,2.529c-0.05,0-0.099-0.008-0.149-0.008S142.106,128.671,142.056,128.672z M164.751,103.455
		c0.092-0.831,0.149-1.673,0.149-2.529c0-0.887-0.064-1.757-0.162-2.618c0.108-0.009,0.22-0.006,0.328-0.017
		c-0.1,0.866-0.165,1.742-0.165,2.634c0,0.856,0.057,1.698,0.149,2.529c-0.05,0-0.099-0.008-0.149-0.008
		S164.802,103.455,164.751,103.455z M187.446,128.672c0.092-0.831,0.149-1.673,0.149-2.529c0-0.856-0.057-1.698-0.149-2.529
		c0.05,0,0.099,0.008,0.149,0.008s0.099-0.007,0.149-0.008c-0.092,0.831-0.149,1.673-0.149,2.529c0,0.856,0.057,1.698,0.149,2.529
		c-0.05,0-0.099-0.008-0.149-0.008S187.496,128.671,187.446,128.672z M210.141,103.455c0.092-0.831,0.149-1.673,0.149-2.529
		c0-0.887-0.064-1.757-0.162-2.618c0.108-0.009,0.22-0.006,0.328-0.017c-0.1,0.866-0.165,1.742-0.165,2.634
		c0,0.856,0.057,1.698,0.149,2.529c-0.05,0-0.099-0.008-0.149-0.008S210.191,103.455,210.141,103.455z M232.836,128.672
		c0.092-0.831,0.149-1.673,0.149-2.529c0-0.856-0.057-1.698-0.149-2.529c0.05,0,0.099,0.008,0.149,0.008s0.099-0.007,0.149-0.008
		c-0.092,0.831-0.149,1.673-0.149,2.529c0,0.856,0.057,1.698,0.149,2.529c-0.05,0-0.099-0.008-0.149-0.008
		S232.886,128.671,232.836,128.672z"/>
	<path id="XMLID_44_" style="fill:#D77258;" d="M34.376,159.361c2.49-22.257,21.497-39.711,44.39-39.711h0
		c22.893,0,41.9,17.454,44.39,39.711h0.285v4.964v59.567v130.569H53.947L34.092,164.325v-4.964H34.376z"/>
	<path id="XMLID_501_" style="fill:#DEDFE8;" d="M209.291,159.361c-2.49-22.257-21.497-39.711-44.39-39.711h0
		c-22.893,0-41.9,17.454-44.39,39.711h-0.285v4.964v59.567v130.569h89.35V223.892v-59.567v-4.964H209.291z"/>
	<path id="XMLID_502_" style="" d="M278.375,128.664c-0.05,0-0.099,0.007-0.149,0.008
		c0.092-0.831,0.149-1.673,0.149-2.529c0-12.534-10.161-22.695-22.695-22.695c-0.05,0-0.099,0.007-0.149,0.008
		c0.092-0.831,0.149-1.673,0.149-2.529c0-12.534-10.161-22.695-22.695-22.695c-0.752,0-1.495,0.041-2.228,0.112
		c0.1-0.866,0.165-1.742,0.165-2.634c0-12.099-9.475-21.958-21.406-22.63C208.895,41.1,199.014,31.57,186.88,31.57
		c-10.615,0-19.505,7.294-21.98,17.14V98.3c0.055-0.002,0.111-0.003,0.165-0.008c-0.1,0.866-0.165,1.742-0.165,2.634
		c0,0.856,0.057,1.698,0.149,2.529c-0.05,0-0.099-0.008-0.149-0.008v45.39c0.05,0,0.099-0.007,0.149-0.008
		c-0.092,0.831-0.149,1.673-0.149,2.529c0,12.534,10.161,22.695,22.695,22.695c12.534,0,22.695-10.161,22.695-22.695
		c0-0.856-0.057-1.698-0.149-2.529c0.05,0,0.099,0.008,0.149,0.008s0.099-0.007,0.149-0.008c-0.092,0.831-0.149,1.673-0.149,2.529
		c0,12.534,10.161,22.695,22.695,22.695s22.695-10.161,22.695-22.695c0-0.856-0.057-1.698-0.149-2.529
		c0.05,0,0.099,0.008,0.149,0.008c0.05,0,0.099-0.007,0.149-0.008c-0.092,0.831-0.149,1.673-0.149,2.529
		c0,12.534,10.161,22.695,22.695,22.695c12.534,0,22.695-10.161,22.695-22.695C301.07,138.825,290.909,128.664,278.375,128.664z
		 M185.367,78.344c0.055-0.479,0.08-0.966,0.105-1.454c0.04,0.002,0.08,0.004,0.119,0.006c0.025,0.48,0.048,0.96,0.103,1.432
		C185.586,78.336,185.475,78.333,185.367,78.344z M187.744,128.672c-0.05,0-0.099-0.008-0.149-0.008s-0.099,0.007-0.149,0.008
		c0.092-0.831,0.149-1.673,0.149-2.529c0-0.856-0.057-1.698-0.149-2.529c0.05,0,0.099,0.008,0.149,0.008s0.099-0.007,0.149-0.008
		c-0.092,0.831-0.149,1.673-0.149,2.529C187.595,126.999,187.652,127.84,187.744,128.672z M210.439,103.455
		c-0.05,0-0.099-0.008-0.149-0.008s-0.099,0.007-0.149,0.008c0.092-0.831,0.149-1.673,0.149-2.529c0-0.887-0.064-1.757-0.162-2.618
		c0.108-0.009,0.22-0.006,0.328-0.017c-0.1,0.866-0.165,1.742-0.165,2.634C210.29,101.782,210.347,102.624,210.439,103.455z
		 M233.134,128.672c-0.05,0-0.099-0.008-0.149-0.008s-0.099,0.007-0.149,0.008c0.092-0.831,0.149-1.673,0.149-2.529
		c0-0.856-0.057-1.698-0.149-2.529c0.05,0,0.099,0.008,0.149,0.008s0.099-0.007,0.149-0.008c-0.092,0.831-0.149,1.673-0.149,2.529
		C232.985,126.999,233.042,127.84,233.134,128.672z"/>
	<path id="XMLID_510_" style="fill:#C9C7D7;" d="M209.291,159.361c-2.49-22.257-21.497-39.711-44.39-39.711h0v234.811h44.675
		V223.892v-59.567v-4.964H209.291z"/>
	<path id="XMLID_515_" style="fill:#D14F4E;" d="M295.424,159.361c-2.49-22.257-21.497-39.711-44.39-39.711h0
		c-22.893,0-41.9,17.454-44.39,39.711h-0.285v4.964v59.567v130.569h69.495l19.856-190.136v-4.964H295.424z"/></g>
</svg>
  
</div>
  
   
			</symbol>
		</svg>
		<div class="container">
		
	    	<header class="jumbotron">
			    <div class="container ">
			     <!--  <h1>Welcome to Movie Recommender!</h1> -->
			      <!-- <p>Movies picked for you are just a few clicks away!</p> -->
			      <h1>Explore the movie you like!</h1>
			      <p>Submit to get recommendations from the people who have the same tastes with you.</p>
			      <!-- <hr> -->
			      <p>
			        <a class="btn btn-primary btn-md" href="/rate">Show Different Movies</a>
			     <!--  </p>
			      <p> -->
			        <!-- <a href="/" class="btn btn-md btn-secondary go-back">Landing page</a> -->
			      </p>
			     
			    </div>
			</header>
			
			<span th:text="${error} ?: ''"></span>
			<a th:class="${error} ? 'btn btn-outline-primary btn-md d-block' : 'd-none'" href="/rate">Back to rating page</a>
			
	        <form action="/recommendation" method="POST" th:object="${form}">
	        	<div align="left" class="submit1">
	        		<input type="submit" value="Submit" th:class="${error} ? 'd-none' : 'btn btn-warning btn-md'" class="btn btn-md btn-success">
	        	</div>
		       	<div class="row equal">
		       		<div th:each="movie, itemStat : ${movies}" class="col-sm-6 col-md-4 col-lg-3 pb-5 pt-0 pl-0 pr-0">
	       				<div class="card h-100 mx-3">
	       					<img class="card-img-top p-0 h-70 poster" th:src="@{${movie.getPosterUrl()}}" th:alt="|Poster for ${movie.getTitle()}|">
		       				
	       					<div class="card-body">
		       					<div class="h-20 title">
		       						<h5 class="card-title h-100" th:text="${movie.getTitle()}"></h5>
		       					</div>
	           					<div class="h-20 genres">
		       						<p class="card-text h-100" th:text="${movie.getGenres()}"></p>
		       					</div>
		       					<!-- <hr> -->
								<div class="rating">
								<div class="inner-rating">
								<fieldset class="r-radios h-10">
									<input type="text" th:id="|${itemStat.index}th movie_id|" th:field="*{ratings[__${itemStat.index}__].movieId}">
									
									<!-- <input type="text" th:name="|${itemStat.index}th movie_id|" th:id="|${itemStat.index}th movie_id|" th:value="${movie.getId()}">
			 						-->
									<input type="radio" th:name="${movie.getId()}" th:id="|${movie.getId()} r_input_0|" th:field="*{ratings[__${itemStat.index}__].rating}" value="0">
									<label for="|${movie.getId()} r_input_0|" class="r-radio r-radio--none">
										<svg aria-hidden="true" focusable="false">
											<use xlink:href="#no_rating"/>
										</svg>
										<span role="presentation">No rating</span>
									</label>
									
									<input type="radio" th:name="${movie.getId()}" th:id="|${movie.getId()} r_input_1|" th:field="*{ratings[__${itemStat.index}__].rating}" value="1">
									<label for="|${movie.getId()} r_input_1|" class="r-radio">
										<svg aria-hidden="true" focusable="false">
											<use xlink:href="#popcorn"/>
										</svg>
										<span role="presentation">1 Star</span>
									</label>
				
									<input type="radio" th:name="${movie.getId()}" th:id="|${movie.getId()} r_input_2|" th:field="*{ratings[__${itemStat.index}__].rating}" value="2">
									<label for="|${movie.getId()} r_input_2|" class="r-radio">
										<svg aria-hidden="true" focusable="false">
											<use xlink:href="#popcorn"/>
										</svg>
										<span role="presentation">2 Stars</span>
									</label>
				
									<input type="radio" th:name="${movie.getId()}" th:id="|${movie.getId()} r_input_3|" th:field="*{ratings[__${itemStat.index}__].rating}" value="3">
									<label for="|${movie.getId()} r_input_3|" class="r-radio">
										<svg aria-hidden="true" focusable="false">
											<use xlink:href="#popcorn"/>
										</svg>
										<span role="presentation">3 Stars</span>
									</label>
				
									<input type="radio" th:name="${movie.getId()}" th:id="|${movie.getId()} r_input_4|" th:field="*{ratings[__${itemStat.index}__].rating}" value="4">
									<label for="|${movie.getId()} r_input_4|" class="r-radio">
										<svg aria-hidden="true" focusable="false">
											<use xlink:href="#popcorn"/>
										</svg>
										<span role="presentation">4 Stars</span>
									</label>
				
									<input type="radio" th:name="${movie.getId()}" th:id="|${movie.getId()} r_input_5|" th:field="*{ratings[__${itemStat.index}__].rating}" value="5">
									<label for="|${movie.getId()} r_input_5|" class="r-radio">
										<svg aria-hidden="true" focusable="false">
											<use xlink:href="#popcorn"/>
										</svg>
										<span role="presentation">5 Stars</span>
									</label>
								</fieldset>
								<p>
								  <a th:href="@{${movie.getImdbUrl()}}" class="btn btn-sm btn-info float-right">More Info</a>
								</p>
								</div>
								</div>
		       				</div>
		       			</div>
	       			</div>
		       		
		       </div>
		       <div align="right"  class="submit2">
	        			<input type="submit" value="Submit" th:class="${error} ? 'd-none' : 'btn btn-warning btn-md'" class="btn btn-md btn-success ">
	        	</div>
	       </form>
        </div>
    </body>
</html>
